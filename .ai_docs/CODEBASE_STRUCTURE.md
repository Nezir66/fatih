# ðŸ“‚ Fatih Codebase Structure

This project follows a strict **Clean Architecture** to separate Logic, Tools, and Configuration.

## Root Directory

- `main.py`: The entry point. Initializes the Orchestrator and starts the interactive CLI loop.
- `docker-compose.yml`: Orchestrates the Docker container, networks, and volumes.
- `.env`: API keys and configuration secrets.
- `requirements.txt`: Python dependencies.

## `/src` - The Source Code

The logic is divided into three layers:

### 1. `src/core/` (Business Logic)

- **`orchestrator.py`**: The main loop. Connects the Brain (LLM) with the Hands (Tools). Handles the "Think -> Act" cycle.
- **`state_manager.py`**: Managing the "Short-term Memory". Stores known hosts, open ports, and found vulnerabilities in a structured JSON object.
- **`security.py`**: **CRITICAL.** The Scope Guard. Validates every target URL/IP against the `ALLOWED_HOSTS` list before execution.

### 2. `src/tools/` (The Hands)

Wrapper classes that translate Python function calls into Docker CLI commands.

- `base.py`: Abstract base class for all tools.
- `definitions.py`: Contains the JSON Schemas sent to the LLM (for Function Calling).
- `network/`: Tools like `nmap.py`, `naabu.py`.
- `web/`: Tools like `nuclei.py`, `httpx.py`.
- _Rule:_ Every tool must output parsed, clean JSON/String data, not raw CLI logs.

### 3. `src/llm/` (The Interface)

- `client.py`: Abstract wrapper for OpenAI/Anthropic APIs.
- `prompts.py`: System prompts ("You are Fatih...") and persona definitions.

## `/docker` - Infrastructure

- `Dockerfile`: Multi-stage build (Go Builder -> Python Runtime).
- `scripts/`: Helper scripts (e.g., `install_tools.sh` if needed).

## `/outputs` - Artifacts

- `raw_scans/`: The raw XML/JSON output from tools (e.g., Nuclei results).
- `logs/`: System debug logs.
- `reports/`: Final human-readable reports generated by the AI.

## `/config`

- `settings.yaml`: Global timeouts, max retries, etc.
- `tools_config.yaml`: Global tool configuration (defines paths, default arguments, and execution parameters for security tools)
